<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Welcome to XRF-Explorer 2.0’s documentation! &#8212; XRF-Explorer 2.0 0.2.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=938c9ccc"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="xrf-explorer" href="modules.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="welcome-to-xrf-explorer-2-0-s-documentation">
<h1>Welcome to XRF-Explorer 2.0’s documentation!<a class="headerlink" href="#welcome-to-xrf-explorer-2-0-s-documentation" title="Link to this heading">¶</a></h1>
<p>The XRF Explorer 2.0 is a web application aimed at conservation scientists, that facilitates the analysis of paintings composition. Here you will find information about its source code, including how it works and how to use it for future development.</p>
<section id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Link to this heading">¶</a></h2>
<p>In this section you will find all the necessary steps to be able to run and contribute to the XRF-Explorer 2.0 codebase.</p>
<section id="backend-configuration">
<h3>Backend Configuration<a class="headerlink" href="#backend-configuration" title="Link to this heading">¶</a></h3>
<p>The XRF-Explorer backend is a Flask app served by waitress. The <code class="docutils literal notranslate"><span class="pre">xrf_explorer/__init__.py</span></code> file contains the setup for the backend app and the <code class="docutils literal notranslate"><span class="pre">run.py</span></code> file is the main file from which the backend is run. Further backend code is located in the <code class="docutils literal notranslate"><span class="pre">xrf_explorer/server</span></code> directory.</p>
<section id="backend-dependencies">
<h4>Backend Dependencies<a class="headerlink" href="#backend-dependencies" title="Link to this heading">¶</a></h4>
<section id="python">
<h5>Python<a class="headerlink" href="#python" title="Link to this heading">¶</a></h5>
<p>The project’s backend runs on <a class="reference external" href="https://docs.python.org/3/whatsnew/3.12.html">Python 3.12</a>. To get started, download and install python from one of the following sources (depending on your OS):</p>
<ul>
<li><p>Install on <a class="reference external" href="https://www.python.org/ftp/python/3.12.3/python-3.12.3-amd64.exe">Windows</a></p></li>
<li><p>Install on Linux (Ubuntu):</p>
<blockquote>
<div><p>$ sudo apt-get update &amp;&amp; sudo apt-get upgrade -y</p>
<p>$ sudo apt-get install python3.12</p>
</div></blockquote>
</li>
</ul>
</section>
<section id="python-libraries">
<h5>Python Libraries<a class="headerlink" href="#python-libraries" title="Link to this heading">¶</a></h5>
<p>Once you have the correct Python version installed, we highly recommend creating a virtual environment for the project, in order to keep dependencies containerized and the <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file as limited as possible.</p>
<p>All dependencies needed to run and contribute to the project are located in the <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file in the root directory. To install the dependencies, simply run:</p>
<blockquote>
<div><p>$ pip install -r requirements.txt</p>
</div></blockquote>
<p>The file can easily be updated by running</p>
<blockquote>
<div><p>$ pip freeze &gt; requirements.txt</p>
</div></blockquote>
<p>WARNING: this command will place all the dependencies you have currently installed in the <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file, so make sure you have removed any unnecessary dependencies from your environment beforehand.</p>
</section>
<section id="tools">
<h5>Tools<a class="headerlink" href="#tools" title="Link to this heading">¶</a></h5>
<p>To automatically generate the code’s documentation we use <a class="reference external" href="https://www.sphinx-doc.org/en/master/">sphinx</a>. In order to use sphinx and build the documentation, you will need Make.
If you’re using Linux, this should already be pre-installed.
If you’re using Windows, you can install Make with the Chocolatey package manager, which is installed alongside Node.js (see <a class="reference internal" href="#frontend-dependencies">Frontend Dependencies</a>). Once you have Chocolatey installed, simply run <code class="docutils literal notranslate"><span class="pre">choco</span> <span class="pre">install</span> <span class="pre">make</span></code> from the CMD or PowerShell.</p>
</section>
</section>
<section id="running-the-backend">
<h4>Running the Backend<a class="headerlink" href="#running-the-backend" title="Link to this heading">¶</a></h4>
<p>To start the backend, you can simply run from the root directory:</p>
<blockquote>
<div><p>$ python run.py</p>
</div></blockquote>
<p>If you would like to test communication with a remote server, we recommend installing a VM running Ubuntu 23.04 and changing the necessary fields in <code class="docutils literal notranslate"><span class="pre">xrf_explorer/client/config.ts</span></code>.</p>
</section>
<section id="generating-documentation">
<h4>Generating Documentation<a class="headerlink" href="#generating-documentation" title="Link to this heading">¶</a></h4>
<p>Generating the code documentation is very simple and only requires a couple of steps:</p>
<ul>
<li><p>Navigate to the project’s root folder</p></li>
<li><p>From the terminal run the following to generate the ReST files. <em>The .exe extension may be omitted in some environments.</em></p>
<blockquote>
<div><p>$ sphinx-apidoc(.exe) -f -o ./documentation/sphinx/source/ .</p>
</div></blockquote>
</li>
<li><p>Build the documentation in HTML format with</p>
<blockquote>
<div><p>$ ./documentation/sphinx/make html</p>
</div></blockquote>
</li>
<li><p>You can see all available formats with</p>
<blockquote>
<div><p>$ ./documentation/sphinx/make</p>
</div></blockquote>
</li>
</ul>
</section>
</section>
<section id="frontend-configuration">
<h3>Frontend Configuration<a class="headerlink" href="#frontend-configuration" title="Link to this heading">¶</a></h3>
<p>The frontend is stored in the <code class="docutils literal notranslate"><span class="pre">xrf_explorer/client</span></code> directory. The frontend is based on Vue.js and UI components are taken from the <a class="reference external" href="https://www.shadcn-vue.com">shadcn-vue</a> project, documentation for which can be found <a class="reference external" href="https://www.shadcn-vue.com/docs">here</a>.</p>
<section id="frontend-dependencies">
<h4>Frontend Dependencies<a class="headerlink" href="#frontend-dependencies" title="Link to this heading">¶</a></h4>
<p>For developing the frontend <code class="docutils literal notranslate"><span class="pre">npm</span></code> is required. To avoid issues, we recommend installing <a class="reference external" href="https://nodejs.org/en/download">Node.js v20</a>, which comes with <code class="docutils literal notranslate"><span class="pre">npm</span></code> packaged:</p>
<ul>
<li><p>Install on <a class="reference external" href="https://nodejs.org/dist/v20.12.2/node-v20.12.2-x64.msi">Windows</a>.</p></li>
<li><p>Install on Linux (Ubuntu):</p>
<blockquote>
<div><p>$ sudo apt update</p>
<p>$ sudo apt upgrade -y</p>
<p>$ sudo apt install -y curl</p>
<p>$ curl -fsSL <a class="reference external" href="https://deb.nodesource.com/setup_20.x">https://deb.nodesource.com/setup_20.x</a> | sudo -E bash -</p>
<p>$ sudo apt install -y nodejs</p>
</div></blockquote>
</li>
<li><p>(Optional) You can alternatively easily manage multiple Node and npm versions directly from the CLI using <a class="reference external" href="https://github.com/coreybutler/nvm-windows#readme">Node Version Manager</a>.</p></li>
</ul>
<p>You can check that you have the correct versions with</p>
<blockquote>
<div><p>$ node –version</p>
</div></blockquote>
<p>and</p>
<blockquote>
<div><p>$ npm –version</p>
</div></blockquote>
<p>(The npm version you should be using is specified in <code class="docutils literal notranslate"><span class="pre">xrf_explorer/client/package.json</span></code>)</p>
</section>
<section id="running-the-frontend">
<h4>Running the Frontend<a class="headerlink" href="#running-the-frontend" title="Link to this heading">¶</a></h4>
<p>To get started with the development process, run:</p>
<ul>
<li><p>Download and install all the dependencies specified in <code class="docutils literal notranslate"><span class="pre">xrf_explorer/client/package.json</span></code> with:</p>
<blockquote>
<div><p>$ npm install</p>
</div></blockquote>
</li>
<li><p>Move to the frontend development directory:</p>
<blockquote>
<div><p>$ cd xrf_explorer/client</p>
</div></blockquote>
</li>
<li><p>Compile the website to the <code class="docutils literal notranslate"><span class="pre">xrf_explorer/client/dist</span></code> directory, from which it can be served by the Flask backend, by running:</p>
<blockquote>
<div><p>$ npm run build</p>
</div></blockquote>
</li>
<li><p>Start a development server with</p>
<blockquote>
<div><p>$ npm run dev</p>
</div></blockquote>
</li>
</ul>
</section>
<section id="frontend-codestyle">
<h4>Frontend Codestyle<a class="headerlink" href="#frontend-codestyle" title="Link to this heading">¶</a></h4>
<p>To enforce consistency in the client code, <code class="docutils literal notranslate"><span class="pre">prettier</span></code> and <code class="docutils literal notranslate"><span class="pre">eslint</span></code> have been configured to the check code style.</p>
<ul>
<li><p>Check if the client code conforms to the <code class="docutils literal notranslate"><span class="pre">prettier</span></code> and <code class="docutils literal notranslate"><span class="pre">eslint</span></code> rules:</p>
<blockquote>
<div><p>$ npm run style:check</p>
</div></blockquote>
</li>
<li><p>Fix some of the errors reported by <code class="docutils literal notranslate"><span class="pre">style:check</span></code>:</p>
<blockquote>
<div><p>$ npm run style:fix</p>
</div></blockquote>
</li>
<li><p>Setting up the <a class="reference external" href="https://prettier.io/">prettier</a> formatter to automatically format on save can immediately remove large amounts of errors.</p></li>
</ul>
</section>
</section>
</section>
<section id="code-documentation">
<h2>Code Documentation<a class="headerlink" href="#code-documentation" title="Link to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Python Modules:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">xrf-explorer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="run.html">run module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tests.html">tests package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tests.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="tests.html#module-tests.test_spectra">tests.test_spectra module</a></li>
<li class="toctree-l3"><a class="reference internal" href="tests.html#module-tests">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="xrf_explorer.html">xrf_explorer package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="xrf_explorer.html#subpackages">Subpackages</a></li>
<li class="toctree-l3"><a class="reference internal" href="xrf_explorer.html#module-xrf_explorer">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Vue Components:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="components.html">components</a><ul>
<li class="toctree-l2"><a class="reference internal" href="windows.html">windows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="spectra_chart.html">Spectra Chart</a></li>
<li class="toctree-l3"><a class="reference internal" href="bar_chart.html">Bar Chart</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="menu.html">menu</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="viewer.html">viewer</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
</div>
</section>
<section id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">XRF-Explorer 2.0</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Python Modules:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">xrf-explorer</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vue Components:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="components.html">components</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="modules.html" title="next chapter">xrf-explorer</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Pablo Benayas Penas, Jan Bulthuis, Dirk Burgers, Ivan Ivanov, Lotte Lakeman, Massimo Leal Martel, Sonia Maxim, Diego Rivera Garrido, Ruben Savelkouls, Iliyan Teofilov, Adrien Verriéle.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>